<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>OTP VERIFICATION</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row class="ion-justify-content-center">
    <ion-col size="12" size-sm="8" size-md="8" size-lg="4" size-xl="4">


      <ion-row style="margin-top: 36px;" class="ion-justify-content-center">
        <ion-col size="10" class="ion-text-center">
          <p style="font-size: 24px; font-weight: bold;">Enter Verification Code</p>
          <ion-text class="text-muted">We have sent you a 4 digit verification code on {{mobileNumber}}</ion-text>
        </ion-col>
        <!-- <ion-col class="ion-text-right">
          <ion-button fill="clear" (click)="resendOTP()">Resend OTP</ion-button>
        </ion-col> -->
      </ion-row>

      <ion-row text-center class="ion-justify-content-center">

        <ion-col size="12" style="display: flex; margin: 0 auto;">
          <ion-input maxlength="1" (paste)="onOTPPaste($event)" [(ngModel)]="otpText1" type="number" #otp1 required maxLength="1"
            (keyup)="otpController($event,otp2,'',0)">
          </ion-input>
          <ion-input maxlength="1" [(ngModel)]="otpText2" type="number" #otp2 required maxLength="1"
            (keyup)="otpController($event,otp3,otp1,1)">
          </ion-input>
          <ion-input maxlength="1" [(ngModel)]="otpText3" type="number" #otp3 required maxLength="1"
            (keyup)="otpController($event,otp4,otp2,2)">
          </ion-input>

          <ion-input maxlength="1" [(ngModel)]="otpText4" type="number" #otp4 required maxLength="1"
            (keyup)="otpController($event,'',otp3,3)">
          </ion-input>

          <!-- <ion-input [(ngModel)]="otpText4" type="number" #otp4 required maxLength="1"
            (ionChange)="otpController($event,otp5,otp3)">
          </ion-input> -->

          <!-- <ion-input [(ngModel)]="otpText5" type="number" #otp5 required maxLength="1"
            (ionChange)="otpController($event,otp6,otp4)">
          </ion-input>
          <ion-input [(ngModel)]="otpText6" type="number" #otp6 required maxLength="1"
            (ionChange)="otpController($event,'',otp5)">
          </ion-input> -->


        </ion-col>

      </ion-row>
      <ion-row class="ion-justify-content-center" *ngIf="otpRetrive && !submitFlag">
        <ion-col size="10" class="ion-text-right" >
          <ion-text style="line-height: 4.5;" class="text-muted">Retrieving OTP in 0:{{secondsRemaing}}</ion-text>
        </ion-col>
      </ion-row>
      <ion-row class="ion-justify-content-center" *ngIf="resendFlag">
        <ion-col size="10" class="ion-text-right">
          <ion-button fill="clear" (click)="resendOTP()">Resend OTP</ion-button>
        </ion-col>
      </ion-row>

      <ion-row class="ion-justify-content-center">
        <ion-col size="10" class="ion-text-center">
          <ion-button fill="outline" (click)="submitOTP()">Submit</ion-button>
        </ion-col>
      </ion-row>


    </ion-col>
  </ion-row>




</ion-content>









<!-- <ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Sign Up</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="signup-content">


  <ion-row style="margin-bottom: 16px;">
    <ion-col size="12" >
      <ion-img  style="height:62px;width:62px; margin: auto;" src="../../assets/logo1.png"></ion-img>
    </ion-col>
  </ion-row>
  
  <form [formGroup]="signupForm" (ngSubmit)="doSignup()">
    <ion-list class="inputs-list" lines="full">
      <ion-item class="input-item">
        <ion-input type="email" placeholder="Email" formControlName="email" clearInput autocapitalize="off" inputmode="email"></ion-input>
      </ion-item>
      <div class="error-container">
        <ng-container *ngFor="let validation of validation_messages.email">
          <div class="error-message" *ngIf="signupForm.get('email').hasError(validation.type) && (signupForm.get('email').dirty || signupForm.get('email').touched)">
            <ion-icon name="information-circle-outline"></ion-icon>
            <span>{{ validation.message }}</span>
          </div>
        </ng-container>
      </div>

      <div formGroupName="matching_passwords">
        <ion-item class="input-item">
          <app-show-hide-password>
            <ion-input type="password" placeholder="Password" formControlName="password"></ion-input>
          </app-show-hide-password>
        </ion-item>
        <div class="error-container">
          <ng-container *ngFor="let validation of validation_messages.password">
            <div class="error-message" *ngIf="signupForm.get('matching_passwords').get('password').hasError(validation.type) && (signupForm.get('matching_passwords').get('password').dirty || signupForm.get('matching_passwords').get('password').touched)">
              <ion-icon name="information-circle-outline"></ion-icon>
              <span>{{ validation.message }}</span>
            </div>
          </ng-container>
        </div>

        <ion-item class="input-item">
          <app-show-hide-password>
            <ion-input type="password" placeholder="Confirm Password" formControlName="confirm_password"></ion-input>
          </app-show-hide-password>
        </ion-item>
        <div class="error-container">
          <ng-container *ngFor="let validation of validation_messages.confirm_password">
            <div class="error-message" *ngIf="signupForm.get('matching_passwords').get('confirm_password').hasError(validation.type) && (signupForm.get('matching_passwords').get('confirm_password').dirty || signupForm.get('matching_passwords').get('confirm_password').touched)">
              <ion-icon name="information-circle-outline"></ion-icon>
              <span>{{ validation.message }}</span>
            </div>
          </ng-container>
        </div>
      </div>
      <div class="error-container">
        <ng-container *ngFor="let validation of validation_messages.matching_passwords">
          <div class="error-message" *ngIf="signupForm.get('matching_passwords').hasError(validation.type) && (signupForm.get('matching_passwords').get('confirm_password').dirty || signupForm.get('matching_passwords').get('confirm_password').touched)">
            <ion-icon name="information-circle-outline"></ion-icon>
            <span>{{ validation.message }}</span>
          </div>
        </ng-container>
      </div>
    </ion-list>

    <ion-button class="signup-btn" type="submit" expand="block" [disabled]="!signupForm.valid">Sign Up</ion-button>
    <ion-row class="other-auth-options-row">
      <ion-button class="login-btn" fill="clear" [routerLink]="['/auth/login']">
        Already have an account?
      </ion-button>
    </ion-row>
  </form>

  <div class="social-auth-options">

    <ion-row>
      <ion-col class="ion-text-center">
        <h6>OR</h6>
      </ion-col>
    </ion-row>

    <ion-button class="social-auth-btn facebook-auth-btn" fill="outline" expand="block" color="facebook" (click)="doFacebookSignup()">Sign Up with Facebook</ion-button>
    
  </div>

  <div class="legal-stuff">
    <ion-text style="color: #fff;">By creating an account you agree to our <a class="legal-action" (click)="showPrivacyModal()">Privacy Policy</a> and <a class="legal-action" (click)="showTermsModal()">Terms of use</a>.
    </ion-text>
    </div>
</ion-content> -->